<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Novo Pedido</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container py-4">
  <a href="dashboard.html" class="btn btn-link">&larr; Voltar</a>
  <h5>Novo Pedido</h5>
  <form id="orderForm">
    <div class="mb-3">
      <label class="form-label">Cliente</label>
      <input type="text" class="form-control" id="cliente" placeholder="Nome do cliente">
    </div>
    <div id="items">
      <div class="row g-2 align-items-end mb-2 item-row">
        <div class="col-6">
          <label>Produto</label>
          <input class="form-control" placeholder="Ex: Pão francês">
        </div>
        <div class="col-3">
          <label>Quantidade</label>
          <input class="form-control" type="number" value="1" min="1">
        </div>
        <div class="col-3">
          <button type="button" class="btn btn-danger remove-btn">Remover</button>
        </div>
      </div>
    </div>
    <div class="mb-3">
      <button type="button" id="addItem" class="btn btn-outline-primary">Adicionar item</button>
    </div>
    <div class="d-grid">
      <button type="submit" class="btn btn-success">Finalizar Pedido</button>
    </div>
  </form>
</div>

<script>
document.getElementById('addItem').addEventListener('click', function(){
  const template = document.querySelector('.item-row').cloneNode(true);
  template.querySelectorAll('input').forEach(i => i.value = (i.type==='number'?1:''));
  document.getElementById('items').appendChild(template);
});
document.getElementById('items').addEventListener('click', function(e){
  if(e.target.classList.contains('remove-btn')){
    const rows = document.querySelectorAll('.item-row');
    if(rows.length > 1) e.target.closest('.item-row').remove();
  }
});
document.getElementById('orderForm').addEventListener('submit', function(e){
  e.preventDefault();
  alert('Pedido finalizado (protótipo). Tire um print desta tela para o PDF.');
});
</script>
</body>
</html>
